(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},29:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(13),o=c.n(a),s=(c(25),c(26),c(10)),r=c(11),i=c(7),l=c(8),j=(c(18),c(27),c(1));l.a.configure();var u=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),d=u[0],b=u[1],p=Object(n.useState)(),h=Object(i.a)(p,2),O=h[0],m=h[1],x=Object(n.useState)(),v=Object(i.a)(x,2),f=v[0],y=v[1],N=Object(n.useState)(),g=Object(i.a)(N,2),C=g[0],A=g[1],T=Object(n.useState)({totalAmount:"",couponCode:""}),E=Object(i.a)(T,2),S=E[0],k=E[1];Object(n.useEffect)((function(){document.title="Apply Coupon"}),[]);var D=function(e){k(Object(r.a)(Object(r.a)({},S),{},Object(s.a)({},e.target.name,e.target.value.trim())))};return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"container overflow-auto",children:Object(j.jsxs)("div",{className:"row",style:{margin:"40px"},children:[Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Apply Coupon"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={method:"POST",body:JSON.stringify(S),headers:{"Content-Type":"application/json",Accept:"application/json"}};fetch("api/apply-coupon",t).then((function(e){return e.json()})).then((function(e){l.a.success("coupon applied"),a(e.payableAmount),b(!0),m(e.couponType),y(e.discount),A(e.couponStatus)})).catch((function(e){l.a.error("Error occured"),console.error("Error:",e)}))},children:[Object(j.jsx)("label",{children:"Total Amount "}),Object(j.jsx)("input",{type:"number",required:!0,name:"totalAmount",onChange:D,className:"form-control"}),Object(j.jsx)("label",{children:"Coupon Code "}),Object(j.jsx)("input",{type:"text",required:!0,name:"couponCode",onChange:D,className:"form-control"}),Object(j.jsx)("button",{className:"btn btn-success applyCouponButton",children:"Apply"})]})]}),d&&Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Cart"}),Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsxs)("h2",{children:["Payable Amount: ",c]}),Object(j.jsxs)("h2",{children:["Discount: ",O," ",f]}),Object(j.jsxs)("h2",{children:["Status: ",C]})]})]})]})})})};var d=function(e){var t=e.coupon;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t.couponCode}),Object(j.jsx)("td",{children:t.minimumAmount}),Object(j.jsxs)("td",{children:[" ",t.couponType]}),Object(j.jsx)("td",{children:t.discount}),Object(j.jsx)("td",{children:t.createdOn}),Object(j.jsx)("td",{children:t.expiryDate})]})};var b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){document.title="Coupons";fetch("api/retrieve-coupons",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){console.error("Error:",e)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Coupons"}),Object(j.jsxs)("table",{className:"table table-striped overflow-auto",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"CouponCode"}),Object(j.jsx)("th",{children:"MinimumAmount"}),Object(j.jsx)("th",{children:"Type"}),Object(j.jsx)("th",{children:"Discount"}),Object(j.jsx)("th",{children:"CreatedOn"}),Object(j.jsx)("th",{children:"ExpiresOn"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e,t){return Object(j.jsx)(d,{coupon:e},t)}))})]})]})};c(29);l.a.configure();var p=function(){var e=Object(n.useState)({couponType:"FLAT",couponCode:"",expiryDate:"",minimumAmount:"",discount:""}),t=Object(i.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){document.title="Add Coupon"}),[]);var o=function(e){a(Object(r.a)(Object(r.a)({},c),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{style:{width:"80vh"},className:"container",children:[Object(j.jsx)("h1",{children:"Add Coupon"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json"}};fetch("api/add-coupon",t).then((function(){l.a.success("Coupon added successfully")})).catch((function(e){l.a.error(e.message)}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Coupon Code"}),Object(j.jsx)("input",{type:"text",required:!0,name:"couponCode",onChange:o,className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Minimum Amount"}),Object(j.jsx)("input",{type:"Number",required:!0,name:"minimumAmount",onChange:o,className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Coupon Type"}),Object(j.jsxs)("select",{name:"couponType",className:"form-control",onChange:o,children:[Object(j.jsx)("option",{value:"FLAT",children:"FLAT"}),Object(j.jsx)("option",{value:"PERCENTAGE",children:"PERCENTAGE"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Discount"}),Object(j.jsx)("input",{type:"Number",required:!0,name:"discount",onChange:o,className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Expiry Date"}),Object(j.jsx)("input",{type:"datetime-local",id:"expiryDate",onChange:o,className:"form-control",required:!0,name:"expiryDate"})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("button",{className:"btn btn-success addCouponButton",children:"Add Coupon"})})]})]})};var h=function(){return Object(n.useEffect)((function(){document.title="Home",document.body.style.backgroundColor="#E5FBB8"})),Object(j.jsx)("div",{style:{margin:"200px"},children:Object(j.jsx)("h1",{children:"Validate Your AntStack Coupons"})})};var O=function(){return Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(j.jsx)("a",{className:"navbar-brand",href:"/",children:"Home"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(j.jsxs)("div",{className:"navbar-nav",children:[Object(j.jsxs)("a",{className:"nav-item nav-link active",href:"/apply-coupon",children:["Apply ",Object(j.jsx)("span",{className:"sr-only",children:"(current)"})]}),Object(j.jsx)("a",{className:"nav-item nav-link",href:"/add-coupon",children:"Add"}),Object(j.jsx)("a",{className:"nav-item nav-link",href:"/coupons",children:"Retrieve"})]})}),Object(j.jsx)("span",{class:"navbar-text",children:"Coupon Validator"})]})},m=c(19),x=c(2);var v=function(){return Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{}),Object(j.jsxs)(x.c,{children:[Object(j.jsx)(x.a,{path:"/",exact:!0,component:h}),Object(j.jsx)(x.a,{path:"/apply-coupon",exact:!0,component:u}),Object(j.jsx)(x.a,{path:"/coupons",exact:!0,component:b}),Object(j.jsx)(x.a,{path:"/add-coupon",exact:!0,component:p})]})]})})};o.a.render(Object(j.jsx)(v,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.d55f9ae5.chunk.js.map